<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  
  <script src="script.js"></script>
</body>

</html>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„±ì‹ ì—¬ëŒ€ ë¶„ì‹¤ë¬¼ ì°¾ê¸° ì„œë¹„ìŠ¤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #764ba2;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .auth-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .hidden {
            display: none;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        .input-group input, .input-group select, .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus, .input-group textarea:focus {
            border-color: #667eea;
            outline: none;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
        }

        .nav-tabs {
            display: flex;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 5px;
        }

        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: transparent;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            color: #666;
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .category-filter {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .category-btn {
            padding: 8px 16px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .post-list {
            margin-top: 20px;
        }

        .post-item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .post-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .post-item.found {
            opacity: 0.7;
            border-left: 5px solid #28a745;
        }

        .post-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }

        .post-category {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .post-status {
            background: #28a745;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }

        .post-content {
            margin-bottom: 15px;
        }

        .post-image {
            max-width: 200px;
            max-height: 200px;
            border-radius: 10px;
            margin: 10px 0;
        }

        .post-meta {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .comments-section {
            border-top: 1px solid #eee;
            padding-top: 15px;
            margin-top: 15px;
        }

        .comment-item {
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            border-left: 3px solid #667eea;
        }

        .comment-form {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .comment-form input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
        }

        .error-message {
            color: #dc3545;
            background: #f8d7da;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        .success-message {
            color: #155724;
            background: #d4edda;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        .user-info {
            text-align: right;
            margin-bottom: 20px;
            color: #666;
        }

        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 15px;
            cursor: pointer;
            margin-left: 10px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .category-filter {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ ì„±ì‹ ì—¬ëŒ€ ë¶„ì‹¤ë¬¼ ì°¾ê¸°</h1>
            <p>ìš°ë¦¬ í•™êµ ë¶„ì‹¤ë¬¼ì„ í•¨ê»˜ ì°¾ì•„ìš”!</p>
        </div>

        <!-- ë¡œê·¸ì¸ ì„¹ì…˜ -->
        <div id="authSection" class="auth-section">
            <h2>í•™êµ ì´ë©”ì¼ë¡œ ë¡œê·¸ì¸</h2>
            <div class="input-group">
                <label for="email">ì„±ì‹ ì—¬ëŒ€ ì´ë©”ì¼</label>
                <input type="email" id="email" placeholder="example@sungshin.ac.kr">
            </div>
            <div class="input-group">
                <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <button class="btn" onclick="login()">ë¡œê·¸ì¸</button>
            <div id="authError" class="error-message hidden"></div>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div id="mainContent" class="main-content hidden">
            <div class="user-info">
                <span id="userEmail"></span>ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!
                <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
            </div>

            <!-- ë„¤ë¹„ê²Œì´ì…˜ íƒ­ -->
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showTab('list')">ê²Œì‹œê¸€ ë³´ê¸°</button>
                <button class="nav-tab" onclick="showTab('lost')">ë¶„ì‹¤ë¬¼ ì°¾ê¸°</button>
                <button class="nav-tab" onclick="showTab('found')">ë¶„ì‹¤ë¬¼ ì˜¬ë¦¬ê¸°</button>
            </div>

            <!-- ê²Œì‹œê¸€ ëª©ë¡ -->
            <div id="listTab" class="tab-content">
                <h3>ë¶„ì‹¤ë¬¼ ê²Œì‹œíŒ</h3>

                <!-- ì¹´í…Œê³ ë¦¬ í•„í„° -->
                <div class="category-filter">
                    <button class="category-btn active" onclick="filterCategory('all')">ì „ì²´</button>
                    <button class="category-btn" onclick="filterCategory('ì „ìê¸°ê¸°')">ì „ìê¸°ê¸°</button>
                    <button class="category-btn" onclick="filterCategory('ì§€ê°‘')">ì§€ê°‘</button>
                    <button class="category-btn" onclick="filterCategory('ê¸°íƒ€')">ê¸°íƒ€</button>
                </div>

                <div id="postList" class="post-list">
                    <!-- ê²Œì‹œê¸€ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- ë¶„ì‹¤ë¬¼ ì°¾ê¸° ê²Œì‹œê¸€ ì‘ì„± -->
            <div id="lostTab" class="tab-content hidden">
                <h3>ë¶„ì‹¤ë¬¼ ì°¾ê¸° ê²Œì‹œê¸€ ì‘ì„±</h3>
                <div class="input-group">
                    <label for="lostCategory">ì¹´í…Œê³ ë¦¬</label>
                    <select id="lostCategory">
                        <option value="ì „ìê¸°ê¸°">ì „ìê¸°ê¸°</option>
                        <option value="ì§€ê°‘">ì§€ê°‘</option>
                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="lostTitle">ì œëª©</label>
                    <input type="text" id="lostTitle" placeholder="ë¶„ì‹¤ë¬¼ì— ëŒ€í•´ ê°„ë‹¨íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”">
                </div>
                <div class="input-group">
                    <label for="lostDescription">ìƒì„¸ ì„¤ëª…</label>
                    <textarea id="lostDescription" rows="4" placeholder="ë¶„ì‹¤ë¬¼ì˜ íŠ¹ì§•, ìƒì–´ë²„ë¦° ì¥ì†Œ ë“±ì„ ìì„¸íˆ ì ì–´ì£¼ì„¸ìš”"></textarea>
                </div>
                <button class="btn" onclick="submitLostPost()">ê²Œì‹œê¸€ ë“±ë¡</button>
                <div id="lostMessage" class="hidden"></div>
            </div>

            <!-- ë¶„ì‹¤ë¬¼ ë°œê²¬ ê²Œì‹œê¸€ ì‘ì„± -->
            <div id="foundTab" class="tab-content hidden">
                <h3>ë¶„ì‹¤ë¬¼ ë°œê²¬ ê²Œì‹œê¸€ ì‘ì„±</h3>
                <div class="input-group">
                    <label for="foundCategory">ì¹´í…Œê³ ë¦¬</label>
                    <select id="foundCategory">
                        <option value="ì „ìê¸°ê¸°">ì „ìê¸°ê¸°</option>
                        <option value="ì§€ê°‘">ì§€ê°‘</option>
                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="foundTitle">ì œëª©</label>
                    <input type="text" id="foundTitle" placeholder="ë°œê²¬í•œ ë¬¼ê±´ì— ëŒ€í•´ ê°„ë‹¨íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”">
                </div>
                <div class="input-group">
                    <label for="foundDescription">ìƒì„¸ ì„¤ëª…</label>
                    <textarea id="foundDescription" rows="4" placeholder="ë°œê²¬í•œ ë¬¼ê±´ì˜ íŠ¹ì§•, ë°œê²¬ ì¥ì†Œ ë“±ì„ ìì„¸íˆ ì ì–´ì£¼ì„¸ìš”"></textarea>
                </div>
                <div class="input-group">
                    <label for="foundImage">ì‚¬ì§„ ì—…ë¡œë“œ</label>
                    <input type="file" id="foundImage" accept="image/*">
                </div>
                <button class="btn" onclick="submitFoundPost()">ê²Œì‹œê¸€ ë“±ë¡</button>
                <div id="foundMessage" class="hidden"></div>
            </div>
        </div>
    </div>

    <script>
        // ë°ì´í„° ì €ì¥ìš© ê°ì²´
        let appData = {
            currentUser: null,
            posts: [],
            comments: {},
            nextPostId: 1
        };

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë°ì´í„° ë¡œë“œ
        function loadData() {
            const savedData = localStorage.getItem('sungshinLostFound');
            if (savedData) {
                appData = JSON.parse(savedData);
            }
        }

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„° ì €ì¥
        function saveData() {
            localStorage.setItem('sungshinLostFound', JSON.stringify(appData));
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        window.onload = function() {
            loadData();
            if (appData.currentUser) {
                showMainContent();
            }
            displayPosts();
        };

        // ë¡œê·¸ì¸ ê¸°ëŠ¥
        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const errorDiv = document.getElementById('authError');

            // ì´ë©”ì¼ í˜•ì‹ ê²€ì¦
            if (!email.endsWith('@sungshin.ac.kr')) {
                showError(errorDiv, 'ì„±ì‹ ì—¬ëŒ€ ì´ë©”ì¼(@sungshin.ac.kr)ë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                return;
            }

            if (!password) {
                showError(errorDiv, 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ë¡œê·¸ì¸ ì„±ê³µ
            appData.currentUser = email;
            saveData();
            showMainContent();
        }

        // ë©”ì¸ ì½˜í…ì¸  í‘œì‹œ
        function showMainContent() {
            document.getElementById('authSection').classList.add('hidden');
            document.getElementById('mainContent').classList.remove('hidden');
            document.getElementById('userEmail').textContent = appData.currentUser;
        }

        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            appData.currentUser = null;
            saveData();
            document.getElementById('authSection').classList.remove('hidden');
            document.getElementById('mainContent').classList.add('hidden');
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
        }

        // íƒ­ ì „í™˜
        function showTab(tabName) {
            // ëª¨ë“  íƒ­ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });

            // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
            document.querySelectorAll('.nav-tab').forEach(btn => {
                btn.classList.remove('active');
            });

            // ì„ íƒëœ íƒ­ í‘œì‹œ
            document.getElementById(tabName + 'Tab').classList.remove('hidden');
            event.target.classList.add('active');
        }

        // ë¶„ì‹¤ë¬¼ ì°¾ê¸° ê²Œì‹œê¸€ ë“±ë¡
        function submitLostPost() {
            const category = document.getElementById('lostCategory').value;
            const title = document.getElementById('lostTitle').value;
            const description = document.getElementById('lostDescription').value;
            const messageDiv = document.getElementById('lostMessage');

            if (!title || !description) {
                showError(messageDiv, 'ì œëª©ê³¼ ì„¤ëª…ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const post = {
                id: appData.nextPostId++,
                type: 'lost',
                category: category,
                title: title,
                description: description,
                author: appData.currentUser,
                timestamp: new Date().toLocaleString(),
                found: false
            };

            appData.posts.unshift(post);
            appData.comments[post.id] = [];
            saveData();

            showSuccess(messageDiv, 'ê²Œì‹œê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
            clearForm(['lostCategory', 'lostTitle', 'lostDescription']);
            displayPosts();
        }

        // ë¶„ì‹¤ë¬¼ ë°œê²¬ ê²Œì‹œê¸€ ë“±ë¡
        function submitFoundPost() {
            const category = document.getElementById('foundCategory').value;
            const title = document.getElementById('foundTitle').value;
            const description = document.getElementById('foundDescription').value;
            const imageFile = document.getElementById('foundImage').files[0];
            const messageDiv = document.getElementById('foundMessage');

            if (!title || !description) {
                showError(messageDiv, 'ì œëª©ê³¼ ì„¤ëª…ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const post = {
                id: appData.nextPostId++,
                type: 'found',
                category: category,
                title: title,
                description: description,
                author: appData.currentUser,
                timestamp: new Date().toLocaleString(),
                found: false
            };

            // ì´ë¯¸ì§€ ì²˜ë¦¬
            if (imageFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    post.image = e.target.result;
                    appData.posts.unshift(post);
                    appData.comments[post.id] = [];
                    saveData();
                    displayPosts();
                };
                reader.readAsDataURL(imageFile);
            } else {
                appData.posts.unshift(post);
                appData.comments[post.id] = [];
                saveData();
                displayPosts();
            }

            showSuccess(messageDiv, 'ê²Œì‹œê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
            clearForm(['foundCategory', 'foundTitle', 'foundDescription', 'foundImage']);
        }

        // ê²Œì‹œê¸€ í‘œì‹œ
        function displayPosts(filterCategory = 'all') {
            const postList = document.getElementById('postList');
            let filteredPosts = appData.posts;

            if (filterCategory !== 'all') {
                filteredPosts = appData.posts.filter(post => post.category === filterCategory);
            }

            if (filteredPosts.length === 0) {
                postList.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">ì•„ì§ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }

            postList.innerHTML = filteredPosts.map(post => `
                <div class="post-item ${post.found ? 'found' : ''}" data-category="${post.category}">
                    <div class="post-header">
                        <div>
                            <span class="post-category">${post.category}</span>
                            ${post.found ? '<span class="post-status">ì°¾ìŒ</span>' : ''}
                        </div>
                        <div style="display: flex; gap: 10px;">
                            ${!post.found ? `<button class="btn btn-secondary" onclick="markAsFound(${post.id})">ì°¾ì•˜ìŒ í‘œì‹œ</button>` : ''}
                        </div>
                    </div>
                    <div class="post-content">
                        <h4>${post.title}</h4>
                        <p>${post.description}</p>
                        ${post.image ? `<img src="${post.image}" alt="ì²¨ë¶€ ì´ë¯¸ì§€" class="post-image">` : ''}
                    </div>
                    <div class="post-meta">
                        ${post.type === 'lost' ? 'ğŸ‘¤ ë¶„ì‹¤ë¬¼ ì°¾ê¸°' : 'ğŸ” ë¶„ì‹¤ë¬¼ ë°œê²¬'} | ì‘ì„±ì: ${post.author} | ${post.timestamp}
                    </div>
                    <div class="comments-section">
                        <h5>ëŒ“ê¸€ (${appData.comments[post.id]?.length || 0}ê°œ)</h5>
                        <div id="comments-${post.id}">
                            ${(appData.comments[post.id] || []).map(comment => `
                                <div class="comment-item">
                                    <strong>${comment.author}:</strong> ${comment.text}
                                    <small style="color: #666; margin-left: 10px;">${comment.timestamp}</small>
                                </div>
                            `).join('')}
                        </div>
                        <div class="comment-form">
                            <input type="text" id="commentInput-${post.id}" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..." onkeypress="handleCommentKeyPress(event, ${post.id})">
                            <button class="btn" onclick="addComment(${post.id})">ëŒ“ê¸€ ì‘ì„±</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ì¹´í…Œê³ ë¦¬ í•„í„°
        function filterCategory(category) {
            // í•„í„° ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            displayPosts(category);
        }

        // ëŒ“ê¸€ ì¶”ê°€
        function addComment(postId) {
            const commentInput = document.getElementById(`commentInput-${postId}`);
            const commentText = commentInput.value.trim();

            if (!commentText) {
                alert('ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const comment = {
                author: appData.currentUser,
                text: commentText,
                timestamp: new Date().toLocaleString()
            };

            if (!appData.comments[postId]) {
                appData.comments[postId] = [];
            }
            appData.comments[postId].push(comment);
            saveData();

            commentInput.value = '';
            displayPosts();
        }

        // ì—”í„°í‚¤ë¡œ ëŒ“ê¸€ ì‘ì„±
        function handleCommentKeyPress(event, postId) {
            if (event.key === 'Enter') {
                addComment(postId);
            }
        }

        // ì°¾ì•˜ìŒ í‘œì‹œ
        function markAsFound(postId) {
            const post = appData.posts.find(p => p.id === postId);
            if (post) {
                post.found = true;
                saveData();
                displayPosts();
            }
        }

        // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
        function showError(element, message) {
            element.textContent = message;
            element.classList.remove('hidden', 'success-message');
            element.classList.add('error-message');
        }

        // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
        function showSuccess(element, message) {
            element.textContent = message;
            element.classList.remove('hidden', 'error-message');
            element.classList.add('success-message');
        }

        // í¼ ì´ˆê¸°í™”
        function clearForm(fieldIds) {
            fieldIds.forEach(id => {
                const element = document.getElementById(id);
                if (element.type === 'file') {
                    element.value = '';
                } else {
                    element.value = element.type === 'select-one' ? element.options[0].value : '';
                }
            });
        }
    </script>
</body>
</html>